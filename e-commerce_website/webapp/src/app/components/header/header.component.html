<header class="header">
  <!-- Top Section: Logo, Search Bar, Profile Link -->
  <div class="header-top">
    <div class="logo fw-bold text-primary fs-4" routerLink="/" style="cursor: pointer;">
      E-Shop
    </div>

    <div class="search-bar d-flex align-items-center position-relative">
      <input 
        type="text" 
        class="form-control rounded-pill px-4" 
        placeholder="Search products..." 
        [(ngModel)]="searchQuery" 
        (keyup.enter)="onSearch($event)" 
      />
      <mat-icon 
        class="search-icon position-absolute end-0 me-3 text-muted" 
        style="top: 50%; transform: translateY(-50%); cursor: pointer;" 
        (click)="onSearch()">
        search
      </mat-icon>
    </div>

    <div class="profile">
      <!-- Admin check -->
      <span *ngIf="authService.isAdmin; else userTemplate" routerLink="/admin">{{ authService.userName }}</span>
      <ng-template #userTemplate>
        <span>{{ authService.userName }}</span>
      </ng-template>

      @if(!authService.isAdmin){
      <!-- Wishlist icon -->
      <ng-container *ngIf="authService.isLoggedIn">
        <a routerLink="/wishlists" class="icon-link">
          <mat-icon class="wishlist-icon">favorite</mat-icon>
        </a>
      </ng-container>

      <!-- Shopping cart icon -->
      <ng-container *ngIf="authService.isLoggedIn">
        <a routerLink="/cart" class="icon-link">
          <mat-icon class="cart-icon">shopping_cart</mat-icon>
        </a>
      </ng-container>

      <!-- Orders Link -->
      <ng-container *ngIf="authService.isLoggedIn">
        <a routerLink="/orders" class="text-decoration-none fw-medium text-primary">Orders</a>
      </ng-container>
    }

      <!-- Login/Logout -->
 <!-- ðŸ” Auth Buttons -->
 <ng-container *ngIf="authService.isLoggedIn; else loggedOut">
  <a (click)="logout()" class="btn btn-outline-danger btn-sm">Logout</a>
</ng-container>
<ng-template #loggedOut>
  <div class="auth-links d-flex gap-2">
    <a routerLink="/login" class="btn btn-outline-primary btn-sm">Login</a>
    <a routerLink="/register" class="btn btn-outline-success btn-sm">Register</a>
  </div>
</ng-template>
</div>
</div>

  <!-- Bottom Section: Category List -->
  <nav class="category-menu">
    <ul>
      <li *ngFor="let category of categoryList" (click)="searchCategory(category._id ?? '')">
        <a>{{ category.name }}</a>
      </li>
    </ul>
  </nav>
</header>

